import os
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
import seaborn as ns
import numpy as np
import matplotlib.pyplot as plt
from numpy.core.fromnumeric import sort

dir_path = os.path.dirname(os.path.realpath(__file__))

def read_from_csv(file_path):
    """
    Reads from csv file and returns a Pandas DataFrame object with full data 
    """
    data = pd.read_csv(file_path, sep=',')
    data.columns = ['path', 'estimated', 'expected', 'error']
    
    return data

df = read_from_csv(dir_path+'/results/results.csv')

x = df['estimated'].tolist()
y = df['expected'].tolist()
z = df['error'].tolist()

# ax = ns.lineplot(x, y, label = "Estimated Capacity", marker="o")
# ns.lineplot(x, x, label = "Expected Capacity", marker="o")

# ax.set(xlabel="Estimated Capacity (Mbit/s)", ylabel="Expected Capacity (Mbit/s)")

######################################################################################

# ax2 = ns.lineplot(x, z, label="Relative Error Rate (%)", marker="o")
# ax2.set(xlabel="Expected Capacity (Mbit/s)", ylabel="Relative Error Rate (%)")
# plt.ylim(0, 5)

# plt.grid()
# plt.show()

x = np.std(z)
print(x)









# sorted_iats = sorted(iats)[100:]

# # ns.histplot(sorted_iats)

# # plt.show()

# cap = pp.find_capacity(1012, iats)
# cap /= 1000000

# print(cap)






















# iats = [0, 1.5020370483398438e-05, 8.296966552734375e-05, 0.0006480216979980469, 0.0006577968597412109, 0.00032806396484375, 4.291534423828125e-06, 1.9073486328125e-06, 9.5367431640625e-07, 9.5367431640625e-07, 9.5367431640625e-07, 2.1457672119140625e-06, 9.5367431640625e-07, 9.5367431640625e-07, 9.5367431640625e-07, 1.9073486328125e-06, 2.6226043701171875e-05, 1.9073486328125e-06, 4.76837158203125e-06, 2.384185791015625e-06, 0.0004248619079589844, 0.00022983551025390625, 0.00042724609375, 4.291534423828125e-05, 0.0003600120544433594, 0.0006098747253417969, 0.0001862049102783203, 0.0002720355987548828, 0.0002987384796142578, 0.0005691051483154297, 3.0040740966796875e-05, 0.0005629062652587891, 4.220008850097656e-05, 0.0005688667297363281, 0.00027489662170410156, 0.0007219314575195312, 0.0003063678741455078, 0.0005848407745361328, 0.00014591217041015625, 0.0003561973571777344, 0.00039076805114746094, 0.00034618377685546875, 0.00036716461181640625, 0.0004937648773193359, 0.00025200843811035156, 0.0013628005981445312, 7.152557373046875e-06, 0.0004532337188720703, 2.86102294921875e-06, 0.00033402442932128906, 0.0002880096435546875, 0.0006868839263916016, 0.0005371570587158203, 1.0728836059570312e-05, 0.0010669231414794922, 5.245208740234375e-06, 0.0003688335418701172, 0.0010292530059814453, 0.0002727508544921875, 0.0004100799560546875, 5.9604644775390625e-06, 0.00024890899658203125, 0.0005981922149658203, 3.0040740966796875e-05, 0.0004868507385253906, 0.0008449554443359375, 0.0003421306610107422, 0.0003190040588378906, 0.0003681182861328125, 0.0002720355987548828, 0.00023984909057617188, 0.0007581710815429688, 0.0006649494171142578, 8.797645568847656e-05, 4.76837158203125e-06, 0.0013120174407958984, 0.0005049705505371094, 0.0003120899200439453, 0.0003809928894042969, 5.245208740234375e-06, 0.0003528594970703125, 0.00015306472778320312, 0.000720977783203125, 0.0004858970642089844, 0.00026416778564453125, 0.0005407333374023438, 1.0251998901367188e-05, 0.0006606578826904297, 0.00037598609924316406, 0.0005750656127929688, 0.0006961822509765625, 0.00010204315185546875, 0.000148773193359375, 0.0007212162017822266, 0.00045800209045410156, 0.0003707408905029297, 0.0003552436828613281, 0.0002899169921875, 0.0005340576171875, 0.00037097930908203125, 0.00015282630920410156, 0.0008151531219482422, 0.0011250972747802734, 0.0001430511474609375, 9.179115295410156e-05, 0.002218961715698242, 6.9141387939453125e-06, 6.198883056640625e-06, 9.5367431640625e-07, 1.9073486328125e-06, 0.0002949237823486328, 0.00010514259338378906, 0.00039696693420410156, 0.0012569427490234375, 7.009506225585938e-05, 0.00015401840209960938, 0.0002579689025878906, 5.0067901611328125e-06, 0.0007770061492919922, 0.0003190040588378906, 0.0005218982696533203, 0.00024008750915527344, 0.0006871223449707031, 0.0005159378051757812, 0.00023317337036132812, 4.76837158203125e-06, 0.0010652542114257812, 0.00020194053649902344, 0.00010776519775390625, 0.00022125244140625, 0.00047898292541503906, 0.0006597042083740234, 0.0006041526794433594, 0.00041985511779785156, 0.0004923343658447266, 0.00014495849609375, 0.0006248950958251953, 0.0003001689910888672, 0.0001537799835205078, 0.0003120899200439453, 0.0005609989166259766, 8.821487426757812e-06, 0.0008780956268310547, 0.0011591911315917969, 6.67572021484375e-06, 0.0001373291015625, 0.0005528926849365234, 0.0006268024444580078, 5.245208740234375e-06, 0.001409769058227539, 0.0005850791931152344, 3.0994415283203125e-06, 1.9073486328125e-06, 0.0004661083221435547, 6.9141387939453125e-06, 0.0004909038543701172, 0.0008511543273925781, 0.0004010200500488281, 5.9604644775390625e-06, 0.0003418922424316406, 0.0004601478576660156, 0.0008118152618408203, 0.0003509521484375, 0.0005242824554443359, 5.7220458984375e-06, 0.0003082752227783203, 0.0004298686981201172, 0.0003249645233154297, 0.0003979206085205078, 0.0002429485321044922, 0.0006871223449707031, 1.9073486328125e-05, 0.0007541179656982422, 0.00026297569274902344, 0.0006508827209472656, 0.0003979206085205078, 0.0007619857788085938, 1.5020370483398438e-05, 2.86102294921875e-06, 0.0007500648498535156, 0.0003609657287597656, 0.00015401840209960938, 0.0008831024169921875, 1.0013580322265625e-05, 0.0015881061553955078, 0.0017371177673339844, 3.814697265625e-06, 1.9073486328125e-06, 3.0994415283203125e-06, 9.5367431640625e-07, 1.9073486328125e-06, 0.00011420249938964844, 0.000370025634765625, 0.000396728515625, 0.000244140625, 0.0010631084442138672, 0.0003719329833984375, 4.0531158447265625e-06, 0.00018405914306640625, 0.0007369518280029297, 0.00043487548828125, 0.0006079673767089844, 0.000347137451171875, 7.152557373046875e-06, 0.000888824462890625, 2.86102294921875e-06, 0.00021505355834960938, 0.0011210441589355469, 2.86102294921875e-06, 0.00017404556274414062, 0.001032114028930664, 5.0067901611328125e-06, 0.0003807544708251953, 0.00016021728515625, 0.0003600120544433594, 0.0013179779052734375, 4.0531158447265625e-06, 9.5367431640625e-07, 0.0003159046173095703, 0.0007131099700927734, 0.0004520416259765625, 0.00015807151794433594, 0.0003159046173095703, 0.001378774642944336, 2.384185791015625e-06, 0.00017070770263671875, 0.00016188621520996094, 0.0003662109375, 0.0007100105285644531, 0.0011849403381347656, 6.198883056640625e-06, 0.0002570152282714844, 9.775161743164062e-06, 0.0011742115020751953, 0.00025391578674316406, 4.76837158203125e-06, 0.0003981590270996094, 0.00016999244689941406, 0.0004630088806152344, 0.0007071495056152344, 0.0002589225769042969, 0.00015592575073242188, 0.0005230903625488281, 0.0003879070281982422, 0.0003871917724609375, 0.0007200241088867188, 0.0001556873321533203, 0.00042510032653808594, 0.0004239082336425781, 0.0006301403045654297, 0.0001671314239501953, 0.0003848075866699219, 0.0006880760192871094, 0.0001556873321533203, 0.0003943443298339844, 0.0003859996795654297, 0.0003979206085205078, 0.00038695335388183594, 0.00038695335388183594, 0.00040411949157714844, 0.00040793418884277344, 0.00039386749267578125, 0.0015439987182617188, 4.291534423828125e-06, 9.5367431640625e-07, 0.00015282630920410156, 0.000431060791015625, 0.00038695335388183594, 0.0003981590270996094, 0.0006949901580810547, 0.00015592575073242188, 0.000431060791015625, 0.00038814544677734375, 0.00047278404235839844, 0.00038695335388183594, 0.0003910064697265625, 0.0003871917724609375, 0.0004467964172363281, 0.0008149147033691406, 0.00027441978454589844, 0.00017261505126953125, 0.0003871917724609375, 0.00038695335388183594, 0.00039005279541015625, 0.00038695335388183594, 0.0003981590270996094, 0.0003857612609863281, 0.00038814544677734375, 0.0015690326690673828, 4.76837158203125e-06, 9.5367431640625e-07, 0.00017309188842773438, 0.00043392181396484375, 0.0013022422790527344, 5.9604644775390625e-06, 0.00012087821960449219, 0.00017523765563964844, 0.0015866756439208984, 6.198883056640625e-06, 3.814697265625e-06]
